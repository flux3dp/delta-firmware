#!/usr/bin/env python

from time import time
from fluxmonitor.misc.upnp_discover import UpnpDiscover

discover = UpnpDiscover()

def callback(discover_instance, model_id, unique_id, ipaddrs):
    print("%-16s %-16s %s" % (model_id, unique_id, ", ".join(ipaddrs)))

print("%-16s %-16s %s" % ("Model", "Serial", "IP Address"))
print("=" * 79)
discover.discover(callback)
